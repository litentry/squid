module.exports = class Data1657059728801 {
  name = 'Data1657059728801'

  async up(db) {
    await db.query(`CREATE TABLE "substrate_council_proposal" ("id" character varying NOT NULL, "network" character varying(8) NOT NULL, "root_account" text NOT NULL, "block_number" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "last_update" TIMESTAMP WITH TIME ZONE NOT NULL, "proposal_id" integer, "proposal_index" integer, "proposal_hash" text NOT NULL, "pallet" text, "method" text, "status" text NOT NULL, "aye_count" integer NOT NULL, "nay_count" integer NOT NULL, "threshold" integer NOT NULL, "account_id" character varying NOT NULL, CONSTRAINT "PK_de7e32a4bd91872e2de07fc2626" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_15ad9e7c37a6ed0a9a6767ab27" ON "substrate_council_proposal" ("account_id") `)
    await db.query(`CREATE INDEX "IDX_7739b391e3653eeb1aeff733da" ON "substrate_council_proposal" ("root_account") `)
    await db.query(`CREATE INDEX "IDX_d0d024167f7cf14f61b64be990" ON "substrate_council_proposal" ("proposal_id") `)
    await db.query(`CREATE INDEX "IDX_bb99ef512e2618c3d88e151971" ON "substrate_council_proposal" ("proposal_index") `)
    await db.query(`CREATE INDEX "IDX_13be7e9f4de8d45b42ddc11a1e" ON "substrate_council_proposal" ("proposal_hash") `)
    await db.query(`CREATE TABLE "substrate_council_vote" ("id" character varying NOT NULL, "network" character varying(8) NOT NULL, "root_account" text NOT NULL, "block_number" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "proposal_index" integer NOT NULL, "approve" boolean NOT NULL, "account_id" character varying NOT NULL, "proposal_id" character varying NOT NULL, CONSTRAINT "PK_1f1048f82fd8ea3f80453b0cd35" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_858957db11f91f86c9adda9114" ON "substrate_council_vote" ("account_id") `)
    await db.query(`CREATE INDEX "IDX_01f14e4e6685b4aa8b25251829" ON "substrate_council_vote" ("root_account") `)
    await db.query(`CREATE INDEX "IDX_da6dd1f3133d7235227d9e7434" ON "substrate_council_vote" ("proposal_index") `)
    await db.query(`CREATE INDEX "IDX_f401ed024753effe888a869857" ON "substrate_council_vote" ("proposal_id") `)
    await db.query(`CREATE TABLE "substrate_proposal_vote" ("id" character varying NOT NULL, "network" character varying(8) NOT NULL, "root_account" text NOT NULL, "block_number" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "ref_index" integer NOT NULL, "vote" text NOT NULL, "account_id" character varying NOT NULL, CONSTRAINT "PK_7eda9706266bf01ed47b51d0257" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_17e4cf681684ff09db454426be" ON "substrate_proposal_vote" ("account_id") `)
    await db.query(`CREATE INDEX "IDX_ffe435537c95a1523c7fdab950" ON "substrate_proposal_vote" ("root_account") `)
    await db.query(`CREATE INDEX "IDX_7773c2d4378b43742527e9a7c1" ON "substrate_proposal_vote" ("ref_index") `)
    await db.query(`CREATE TABLE "substrate_democracy_referenda" ("id" character varying NOT NULL, "network" character varying(8) NOT NULL, "block_number" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "status" text NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, "vote_threshold" text NOT NULL, "democracy_proposal_id" character varying, CONSTRAINT "PK_53c35807a0fb4f7afd2053b002e" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_8197a7fbe7e3251f0ae228099f" ON "substrate_democracy_referenda" ("democracy_proposal_id") `)
    await db.query(`CREATE TABLE "substrate_democracy_proposal" ("id" character varying NOT NULL, "network" character varying(8) NOT NULL, "root_account" text NOT NULL, "block_number" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "proposal_hash" text NOT NULL, "proposal_index" integer NOT NULL, "title" text, "description" text, "deposit_amount" numeric NOT NULL, "status" character varying(9) NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, "tabled_at_block" numeric, "account_id" character varying NOT NULL, "democracy_referenda_id" character varying, CONSTRAINT "PK_1ace727c2511fe1ea57ec7db260" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_388f3fd3b03fa4f0b699b77916" ON "substrate_democracy_proposal" ("account_id") `)
    await db.query(`CREATE INDEX "IDX_71842dc673f50311421b7f1a96" ON "substrate_democracy_proposal" ("root_account") `)
    await db.query(`CREATE INDEX "IDX_18dce55da139e25d6af12fd915" ON "substrate_democracy_proposal" ("proposal_hash") `)
    await db.query(`CREATE INDEX "IDX_7d35f8cc15e1151d03cc068075" ON "substrate_democracy_proposal" ("proposal_index") `)
    await db.query(`CREATE INDEX "IDX_d87b5ca3d0e3d50e9f8f0e6c1a" ON "substrate_democracy_proposal" ("tabled_at_block") `)
    await db.query(`CREATE INDEX "IDX_f6246d1983484e6db9f8b5cedd" ON "substrate_democracy_proposal" ("democracy_referenda_id") `)
    await db.query(`CREATE TABLE "substrate_democracy_proposal_second" ("id" character varying NOT NULL, "network" character varying(8) NOT NULL, "root_account" text NOT NULL, "block_number" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "upper_bound" integer, "account_id" character varying NOT NULL, "proposal_id" character varying NOT NULL, CONSTRAINT "PK_819dd811b3f4d630ea6b9aab429" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_9dd24e507f451ee9555f57e5ac" ON "substrate_democracy_proposal_second" ("account_id") `)
    await db.query(`CREATE INDEX "IDX_cf8eed3a9aebf212c89cf3a399" ON "substrate_democracy_proposal_second" ("root_account") `)
    await db.query(`CREATE INDEX "IDX_7ddb816aaed8bc69d4afe8b0fb" ON "substrate_democracy_proposal_second" ("proposal_id") `)
    await db.query(`CREATE TABLE "substrate_technical_committee_proposal" ("id" character varying NOT NULL, "network" character varying(8) NOT NULL, "root_account" text NOT NULL, "block_number" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "proposal_index" integer NOT NULL, "proposal_hash" text NOT NULL, "threshold" integer NOT NULL, "account_id" character varying NOT NULL, CONSTRAINT "PK_a000e763ae0db4818898edc82ba" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_64fc814aab90131e9c8cea6e5e" ON "substrate_technical_committee_proposal" ("account_id") `)
    await db.query(`CREATE INDEX "IDX_e8d5dff0743633b840d00af8de" ON "substrate_technical_committee_proposal" ("root_account") `)
    await db.query(`CREATE INDEX "IDX_126d98f91611ab3bad97b05f8a" ON "substrate_technical_committee_proposal" ("proposal_index") `)
    await db.query(`CREATE TABLE "substrate_election_vote" ("id" character varying NOT NULL, "network" character varying(8) NOT NULL, "root_account" text NOT NULL, "block_number" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "candidates" text array NOT NULL, "amount" numeric NOT NULL, "account_id" character varying NOT NULL, CONSTRAINT "PK_08102bd051fcdc0b97ec12d6877" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_4418e8a14729709867e599ef70" ON "substrate_election_vote" ("account_id") `)
    await db.query(`CREATE INDEX "IDX_ae13930714d737631f3b6ed9f8" ON "substrate_election_vote" ("root_account") `)
    await db.query(`CREATE TABLE "substrate_bounty_proposal" ("id" character varying NOT NULL, "network" character varying(8) NOT NULL, "root_account" text NOT NULL, "block_number" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "proposal_index" integer NOT NULL, "description" text, "value" numeric, "account_id" character varying NOT NULL, CONSTRAINT "PK_6533aca0649f7230117a2a3b442" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_e543be8d9d4362e014e0fe6d1e" ON "substrate_bounty_proposal" ("account_id") `)
    await db.query(`CREATE INDEX "IDX_57fed3496c1521a349189c9f3a" ON "substrate_bounty_proposal" ("root_account") `)
    await db.query(`CREATE INDEX "IDX_0d20305509e3fd71d70a48e9ad" ON "substrate_bounty_proposal" ("proposal_index") `)
    await db.query(`CREATE TABLE "substrate_treasury_proposal" ("id" character varying NOT NULL, "network" character varying(8) NOT NULL, "root_account" text NOT NULL, "block_number" numeric NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "proposal_index" integer NOT NULL, "beneficiary" text, "value" numeric NOT NULL, "account_id" character varying NOT NULL, "beneficiary_account_id" character varying, CONSTRAINT "PK_663a95e6e70180cc40ceb859711" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_b0f3c2115eea9355b7cae7ea15" ON "substrate_treasury_proposal" ("account_id") `)
    await db.query(`CREATE INDEX "IDX_c8bcd2435106486b0f92983f66" ON "substrate_treasury_proposal" ("root_account") `)
    await db.query(`CREATE INDEX "IDX_ed3e552ca9f85d13c65e29c26b" ON "substrate_treasury_proposal" ("proposal_index") `)
    await db.query(`CREATE INDEX "IDX_2df21d2c4994c92f72c9a1eba3" ON "substrate_treasury_proposal" ("beneficiary_account_id") `)
    await db.query(`CREATE TABLE "substrate_governance_account" ("id" character varying NOT NULL, "root_account" text NOT NULL, "network" character varying(8) NOT NULL, "total_proposal_seconds" integer NOT NULL, "total_democracy_proposal_seconds" integer NOT NULL, "total_proposal_votes" integer NOT NULL, "total_election_votes" integer NOT NULL, "total_democracy_proposals" integer NOT NULL, "total_council_proposals" integer NOT NULL, "total_technical_committee_proposals" integer NOT NULL, "total_bounty_proposals" integer NOT NULL, "total_treasury_spend_proposals" integer NOT NULL, CONSTRAINT "PK_ccd1f23a87828f4ee8eb38e9fb7" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_21097df62963e6b1d6a813e952" ON "substrate_governance_account" ("root_account") `)
    await db.query(`ALTER TABLE "substrate_council_proposal" ADD CONSTRAINT "FK_15ad9e7c37a6ed0a9a6767ab278" FOREIGN KEY ("account_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_council_vote" ADD CONSTRAINT "FK_858957db11f91f86c9adda91146" FOREIGN KEY ("account_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_council_vote" ADD CONSTRAINT "FK_f401ed024753effe888a869857d" FOREIGN KEY ("proposal_id") REFERENCES "substrate_council_proposal"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_proposal_vote" ADD CONSTRAINT "FK_17e4cf681684ff09db454426be0" FOREIGN KEY ("account_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_democracy_referenda" ADD CONSTRAINT "FK_8197a7fbe7e3251f0ae228099fc" FOREIGN KEY ("democracy_proposal_id") REFERENCES "substrate_democracy_proposal"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_democracy_proposal" ADD CONSTRAINT "FK_388f3fd3b03fa4f0b699b779161" FOREIGN KEY ("account_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_democracy_proposal" ADD CONSTRAINT "FK_f6246d1983484e6db9f8b5cedd8" FOREIGN KEY ("democracy_referenda_id") REFERENCES "substrate_democracy_referenda"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_democracy_proposal_second" ADD CONSTRAINT "FK_9dd24e507f451ee9555f57e5ac2" FOREIGN KEY ("account_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_democracy_proposal_second" ADD CONSTRAINT "FK_7ddb816aaed8bc69d4afe8b0fb4" FOREIGN KEY ("proposal_id") REFERENCES "substrate_democracy_proposal"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_technical_committee_proposal" ADD CONSTRAINT "FK_64fc814aab90131e9c8cea6e5e6" FOREIGN KEY ("account_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_election_vote" ADD CONSTRAINT "FK_4418e8a14729709867e599ef706" FOREIGN KEY ("account_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_bounty_proposal" ADD CONSTRAINT "FK_e543be8d9d4362e014e0fe6d1e6" FOREIGN KEY ("account_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_treasury_proposal" ADD CONSTRAINT "FK_b0f3c2115eea9355b7cae7ea157" FOREIGN KEY ("account_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    await db.query(`ALTER TABLE "substrate_treasury_proposal" ADD CONSTRAINT "FK_2df21d2c4994c92f72c9a1eba3e" FOREIGN KEY ("beneficiary_account_id") REFERENCES "substrate_governance_account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
  }

  async down(db) {
    await db.query(`DROP TABLE "substrate_council_proposal"`)
    await db.query(`DROP INDEX "public"."IDX_15ad9e7c37a6ed0a9a6767ab27"`)
    await db.query(`DROP INDEX "public"."IDX_7739b391e3653eeb1aeff733da"`)
    await db.query(`DROP INDEX "public"."IDX_d0d024167f7cf14f61b64be990"`)
    await db.query(`DROP INDEX "public"."IDX_bb99ef512e2618c3d88e151971"`)
    await db.query(`DROP INDEX "public"."IDX_13be7e9f4de8d45b42ddc11a1e"`)
    await db.query(`DROP TABLE "substrate_council_vote"`)
    await db.query(`DROP INDEX "public"."IDX_858957db11f91f86c9adda9114"`)
    await db.query(`DROP INDEX "public"."IDX_01f14e4e6685b4aa8b25251829"`)
    await db.query(`DROP INDEX "public"."IDX_da6dd1f3133d7235227d9e7434"`)
    await db.query(`DROP INDEX "public"."IDX_f401ed024753effe888a869857"`)
    await db.query(`DROP TABLE "substrate_proposal_vote"`)
    await db.query(`DROP INDEX "public"."IDX_17e4cf681684ff09db454426be"`)
    await db.query(`DROP INDEX "public"."IDX_ffe435537c95a1523c7fdab950"`)
    await db.query(`DROP INDEX "public"."IDX_7773c2d4378b43742527e9a7c1"`)
    await db.query(`DROP TABLE "substrate_democracy_referenda"`)
    await db.query(`DROP INDEX "public"."IDX_8197a7fbe7e3251f0ae228099f"`)
    await db.query(`DROP TABLE "substrate_democracy_proposal"`)
    await db.query(`DROP INDEX "public"."IDX_388f3fd3b03fa4f0b699b77916"`)
    await db.query(`DROP INDEX "public"."IDX_71842dc673f50311421b7f1a96"`)
    await db.query(`DROP INDEX "public"."IDX_18dce55da139e25d6af12fd915"`)
    await db.query(`DROP INDEX "public"."IDX_7d35f8cc15e1151d03cc068075"`)
    await db.query(`DROP INDEX "public"."IDX_d87b5ca3d0e3d50e9f8f0e6c1a"`)
    await db.query(`DROP INDEX "public"."IDX_f6246d1983484e6db9f8b5cedd"`)
    await db.query(`DROP TABLE "substrate_democracy_proposal_second"`)
    await db.query(`DROP INDEX "public"."IDX_9dd24e507f451ee9555f57e5ac"`)
    await db.query(`DROP INDEX "public"."IDX_cf8eed3a9aebf212c89cf3a399"`)
    await db.query(`DROP INDEX "public"."IDX_7ddb816aaed8bc69d4afe8b0fb"`)
    await db.query(`DROP TABLE "substrate_technical_committee_proposal"`)
    await db.query(`DROP INDEX "public"."IDX_64fc814aab90131e9c8cea6e5e"`)
    await db.query(`DROP INDEX "public"."IDX_e8d5dff0743633b840d00af8de"`)
    await db.query(`DROP INDEX "public"."IDX_126d98f91611ab3bad97b05f8a"`)
    await db.query(`DROP TABLE "substrate_election_vote"`)
    await db.query(`DROP INDEX "public"."IDX_4418e8a14729709867e599ef70"`)
    await db.query(`DROP INDEX "public"."IDX_ae13930714d737631f3b6ed9f8"`)
    await db.query(`DROP TABLE "substrate_bounty_proposal"`)
    await db.query(`DROP INDEX "public"."IDX_e543be8d9d4362e014e0fe6d1e"`)
    await db.query(`DROP INDEX "public"."IDX_57fed3496c1521a349189c9f3a"`)
    await db.query(`DROP INDEX "public"."IDX_0d20305509e3fd71d70a48e9ad"`)
    await db.query(`DROP TABLE "substrate_treasury_proposal"`)
    await db.query(`DROP INDEX "public"."IDX_b0f3c2115eea9355b7cae7ea15"`)
    await db.query(`DROP INDEX "public"."IDX_c8bcd2435106486b0f92983f66"`)
    await db.query(`DROP INDEX "public"."IDX_ed3e552ca9f85d13c65e29c26b"`)
    await db.query(`DROP INDEX "public"."IDX_2df21d2c4994c92f72c9a1eba3"`)
    await db.query(`DROP TABLE "substrate_governance_account"`)
    await db.query(`DROP INDEX "public"."IDX_21097df62963e6b1d6a813e952"`)
    await db.query(`ALTER TABLE "substrate_council_proposal" DROP CONSTRAINT "FK_15ad9e7c37a6ed0a9a6767ab278"`)
    await db.query(`ALTER TABLE "substrate_council_vote" DROP CONSTRAINT "FK_858957db11f91f86c9adda91146"`)
    await db.query(`ALTER TABLE "substrate_council_vote" DROP CONSTRAINT "FK_f401ed024753effe888a869857d"`)
    await db.query(`ALTER TABLE "substrate_proposal_vote" DROP CONSTRAINT "FK_17e4cf681684ff09db454426be0"`)
    await db.query(`ALTER TABLE "substrate_democracy_referenda" DROP CONSTRAINT "FK_8197a7fbe7e3251f0ae228099fc"`)
    await db.query(`ALTER TABLE "substrate_democracy_proposal" DROP CONSTRAINT "FK_388f3fd3b03fa4f0b699b779161"`)
    await db.query(`ALTER TABLE "substrate_democracy_proposal" DROP CONSTRAINT "FK_f6246d1983484e6db9f8b5cedd8"`)
    await db.query(`ALTER TABLE "substrate_democracy_proposal_second" DROP CONSTRAINT "FK_9dd24e507f451ee9555f57e5ac2"`)
    await db.query(`ALTER TABLE "substrate_democracy_proposal_second" DROP CONSTRAINT "FK_7ddb816aaed8bc69d4afe8b0fb4"`)
    await db.query(`ALTER TABLE "substrate_technical_committee_proposal" DROP CONSTRAINT "FK_64fc814aab90131e9c8cea6e5e6"`)
    await db.query(`ALTER TABLE "substrate_election_vote" DROP CONSTRAINT "FK_4418e8a14729709867e599ef706"`)
    await db.query(`ALTER TABLE "substrate_bounty_proposal" DROP CONSTRAINT "FK_e543be8d9d4362e014e0fe6d1e6"`)
    await db.query(`ALTER TABLE "substrate_treasury_proposal" DROP CONSTRAINT "FK_b0f3c2115eea9355b7cae7ea157"`)
    await db.query(`ALTER TABLE "substrate_treasury_proposal" DROP CONSTRAINT "FK_2df21d2c4994c92f72c9a1eba3e"`)
  }
}
